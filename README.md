# Kanban Board Backend

–ë—ç–∫–µ–Ω–¥ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∏ –∑–∞–¥–∞—á–∞–º–∏ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º Kanban, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ **Django** –∏ **Django REST Framework**.
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã: –æ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ JWT –¥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏, –¥–æ—Å–∫–∞–º–∏, –∑–∞–¥–∞—á–∞–º–∏, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π.

---

## ‚öôÔ∏è –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**
  –ö–∞—Å—Ç–æ–º–Ω–∞—è –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –≤—Ö–æ–¥ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É, –≤—ã–¥–∞—á–∞ JWT —Ç–æ–∫–µ–Ω–æ–≤ (access/refresh) —á–µ—Ä–µ–∑ SimpleJWT.
  –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ (rate limiting, throttling).

* **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏**
  CRUD API –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º —Ä–æ–ª–µ–π (–≤–ª–∞–¥–µ–ª–µ—Ü/—É—á–∞—Å—Ç–Ω–∏–∫).
  –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ –ø—Ä–æ–µ–∫—Ç–æ–≤.

* **–î–æ—Å–∫–∏ –∏ –∫–æ–ª–æ–Ω–∫–∏**
  –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ –∫–æ–ª–æ–Ω–æ–∫, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π.

* **–ó–∞–¥–∞—á–∏ –∏ –ø–æ–¥–∑–∞–¥–∞—á–∏**
  –°—Ç–∞—Ç—É—Å—ã Kanban (Backlog ‚Üí Done), –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã, –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ –∏ –∏–µ—Ä–∞—Ä—Ö–∏—è –∑–∞–¥–∞—á.
  –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –∑–∞–¥–∞—á, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –∏ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–¥–∑–∞–¥–∞—á —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞.

* **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏**
  –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ (email/SMS, Redis backend), —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ—Å—Ç–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π.

* **–ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
  –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Prometheus –∏ Grafana, –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `django-cprofile-middleware`, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ Sentry SDK.

---

## üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç     | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏                                 |
| ------------- | ------------------------------------------ |
| Backend       | Python 3.12, Django 5, DRF                 |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö   | PostgreSQL                                 |
| –û—á–µ—Ä–µ–¥–∏ / –∫–µ—à | Redis + Celery                             |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è  | drf-yasg (Swagger/OpenAPI)                 |
| –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥    | Prometheus, Grafana, Sentry                |
| DevTools      | Poetry, Docker Compose, pre-commit, pytest |

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

| –ü—É—Ç—å                        | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                              |
| --------------------------- | --------------------------------------- |
| `kanban_board/`             | –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Django –∏ Celery      |
| `management/`               | –î–æ–º–µ–Ω—ã: –ø—Ä–æ–µ–∫—Ç—ã, –¥–æ—Å–∫–∏, –∫–æ–ª–æ–Ω–∫–∏, –∑–∞–¥–∞—á–∏ |
| `users/`                    | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, JWT, SMS-–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ    |
| `notification/`             | –ú–æ–¥–µ–ª—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ API                |
| `notification_preferences/` | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π                   |
| `phone/`                    | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ SMS-–∫–æ–¥–æ–≤          |
| `api/v1/`                   | –°–±–æ—Ä–∫–∞ REST API v1 –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è      |

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–ª–æ–∫–∞–ª—å–Ω–æ)

```bash
git clone https://github.com/Max-ghub/kanban-board-django.git
cd kanban-board-django
poetry install
cp .env.example .env
poetry run python manage.py migrate
poetry run python manage.py runserver
poetry run celery -A kanban_board worker -l info
```

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π `.env`:

```dotenv
SECRET_KEY=dev-secret
DEBUG=1
DB_NAME=kanban
DB_USER=kanban
DB_PASSWORD=kanban
DB_HOST=localhost
REDIS_HOST=localhost
```

---

## üê≥ –ó–∞–ø—É—Å–∫ –≤ Docker

```bash
make run-dev
# –∏–ª–∏ —Ñ–æ–Ω–æ–≤—ã–π –∑–∞–ø—É—Å–∫:
make run-dev-d
```

–û–∫—Ä—É–∂–µ–Ω–∏–µ –ø–æ–¥–Ω–∏–º–µ—Ç:

* **Django API** ‚Üí [http://localhost:8000](http://localhost:8000)
* **Swagger UI** ‚Üí [http://localhost:8000/swagger/](http://localhost:8000/swagger/)
* **Prometheus** ‚Üí [http://localhost:9090](http://localhost:9090)
* **Grafana** ‚Üí [http://localhost:3000](http://localhost:3000)

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω:

```bash
make run-prod
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å—Ç–∏–ª—å –∫–æ–¥–∞

```bash
poetry run pytest
poetry run pre-commit install
poetry run pre-commit run --all-files
```

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

* `pytest` ‚Äî —Ç–µ—Å—Ç—ã –∏ —Ñ–∏–∫—Å—Ç—É—Ä—ã
* `black`, `flake8`, `isort` ‚Äî –∞–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç –∏ –ª–∏–Ω—Ç–µ—Ä
* `mypy` (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–ª—è —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏)

---

## üß† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

* **Feature Flags** —á–µ—Ä–µ–∑ `django-extra-settings`
* **–§–æ–Ω–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ SMS –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π** –Ω–∞ Celery
* **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ API** –∏ `cache_response` decorator
* **–ì–∏–±–∫–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è DRF** —Å `PageNumberPagination`
* **ORM-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** (`select_related`, `prefetch_related`)
* **Role-based permissions** (`IsProjectOwner`, `IsProjectMemberOrOwner`)

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

* **Prometheus** —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ Django –∏ Celery.
* **Grafana** –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –ø–æ API latency, –æ—à–∏–±–∫–∞–º, –Ω–∞–≥—Ä—É–∑–∫–µ.
* **Sentry SDK** –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏ –ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å.
* **ApacheBench** –∏ `django-cprofile` –ø–æ–º–æ–≥–∞—é—Ç –∏–∑–º–µ—Ä—è—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

---

## üìò –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

* **Swagger UI** ‚Äî `/swagger/`
* **Redoc** ‚Äî `/redoc/`
* –ì–µ–Ω–µ—Ä–∞—Ü–∏—è OpenAPI-—Å—Ö–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ `drf-yasg`.

---